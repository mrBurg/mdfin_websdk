import express from 'express';
import path from 'path';
import fs from 'fs';

import faceTecStrings from './data/faceTecStrings.json';
import productionKey from './data/productionKey.json';
import cfg from './config.json';
import { generateUUId } from './utils';

const router = express.Router();

const partner_key = generateUUId();
const session = generateUUId();
const operation_id = generateUUId();

router.post('/operation/sdk/init', (req, res) => {
  console.log(req.body);

  return res.send({
    operation_id,
    result: 1,
    description: 'Success',
  });
});

let processingCounter = 3;
let livenessCounter = 3;

router.get('/operation/sdk/start', (req, res) => {
  console.log(req.query);

  if (processingCounter) {
    processingCounter--;

    return res.send({ view: 'processing' });
  }

  if (livenessCounter) {
    livenessCounter--;

    return res.send({ view: 'liveness' });
  }

  processingCounter = 5;
  livenessCounter = 3;

  return res.send({ view: 'finish' });
});

router.get('/operation/sdk/response', (req, res) => {
  console.log(req.query);

  return res.send({ ...req.query, status: cfg.status.ok });
});

router.get('/operation/sdk/liveness', (req, res) => {
  console.log(req.query);

  return res.send({ session, partner_key });
});

router.post('/operation/sdk/liveness-status', (req, res) => {
  console.log(req.body);

  return res.send({
    status: cfg.status.ok,
    redirectURI: `/processing?id=${1e7}-${1e3}-${1e3}-${1e3}-${1e11}`,
  });
});

router.post('/operation/enrollment-3d', (req, res) => {
  console.log(req.body);

  return res.send({
    scanResultBlob:
      'AQEAAABTAAAAAAAAAC3rgBkeaiP/w1fEroWvsadxeEHOJc+Wk695uzqAqTJSYOfxfVtDM7by3nrc5vjQd67S7zCJQoeTJ1Sn7cs7IHChUe2F3035rmjw+ZueoC740XZH',
    wasProcessed: true,
  });
});

router.post('/operation/match-3d-2d-idscan', (req, res) => {
  console.log(req.body);

  return res.send({
    scanResultBlob:
      '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',
    wasProcessed: true,
  });
});

router.get(
  '/operation/config/file/550ebb7e527704512e6653fc75c263fa',
  (req, res) => {
    console.log(req.query);

    return res.send(faceTecStrings);
  }
);

router.get(`/operation/config/file/${partner_key}`, (req, res) => {
  console.log(req.query);

  return res.send({ partner_key });
});

router.get('/operation/config/field', (req, res) => {
  console.log(req.query);

  const ssh_public_key = fs.readFileSync(
    path.join(__dirname, './data/publicKey.txt'),
    'utf-8'
  );

  return res.send({
    value: {
      ssh_public_key,
      device_key: 'dMFKHvAjEESNKTp23rdfNlt7xRLKbgkH',
      id_scan_path: '/match-3d-2d-idscan',
      mobile:
        'appId="com.recognid.sdk.ios,com.recognid.sdk.android,com.recognid.sdk.*"\nexpiryDate = 2024-04-10\nkey=00304402202c4a94fbdfa0704bdfc805d284707f7fcf9f72652e3e27f98c967efcab63724602200502ec350fceba10ce91d2a130143486667db1f73d03ae697f3fd5a693c3aea5',
      base_url: 'https://recid.finmdtest.com/ft',
      session_path: '/session-token',
      production_key: JSON.stringify(productionKey, null, 2),
      id_scan_timeout: 30,
      enrollment_path: '/enrollment-3d',
      session_timeout: 10,
      enrollment_timeout: 30,
    },
  });
});

router.get('/operation/config/timeout', (req, res) => {
  console.log(req.query);

  return res.send({ value: 300 });
});

router.post('/ekyc/response', (req, res) => {
  console.log(req.query);
  console.log(req.body);

  return res.end();
});

export default router;
